<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL 编码/解码工具</title>
    <link href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../asset/common.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
</head>
<body>
    <!-- 导航栏 -->
    <div id="navbar-container"></div>
    
    <div class="container container-main">
        <!-- 面包屑导航 -->
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">编码解码</li>
                <li class="breadcrumb-item active" aria-current="page">URL 编码/解码工具</li>
            </ol>
        </nav>
        
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">URL 编码/解码工具</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="inputText" class="form-label">输入文本</label>
                            <textarea class="form-control" id="inputText" rows="6" placeholder="请输入需要进行URL编码或解码的文本"></textarea>
                        </div>
                        
                        <div class="d-flex justify-content-between mb-3">
                            <div>
                                <button id="encodeBtn" class="btn btn-primary me-2">
                                    <i class="bi bi-link me-1"></i>
                                    URL 编码
                                </button>
                                <button id="decodeBtn" class="btn btn-success me-2">
                                    <i class="bi bi-link-45deg me-1"></i>
                                    URL 解码
                                </button>
                            </div>
                            <div>
                                <button id="swapBtn" class="btn btn-info me-2">
                                    <i class="bi bi-arrow-left-right me-1"></i>
                                    交换内容
                                </button>
                                <button id="clearBtn" class="btn btn-danger">
                                    <i class="bi bi-trash me-1"></i>
                                    清空
                                </button>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="outputText" class="form-label">输出结果</label>
                            <textarea class="form-control" id="outputText" rows="6" readonly></textarea>
                        </div>
                        
                        <button id="copyBtn" class="btn btn-outline-secondary">
                            <i class="bi bi-clipboard me-1"></i>
                            复制结果
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 百科内容 -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">关于 URL 编码</h5>
                    </div>
                    <div class="card-body">
                        <h5>什么是 URL 编码</h5>
                        <p class="card-text">
                            URL编码（也称为百分号编码）是一种机制，用于在URL中编码可能包含特殊字符的信息。因为URL中有些字符具有特殊含义（如?、&、=等），而有些字符在URL中是不允许出现的，所以需要对这些字符进行编码。
                        </p>
                        
                        <h5>URL 编码规则</h5>
                        <ul>
                            <li>字母数字字符（A-Z，a-z，0-9）保持不变</li>
                            <li>特殊字符（如空格、!、"、#、$等）会被替换为%加上两个十六进制数字</li>
                            <li>例如：空格会被编码为%20，中文"你好"会被编码为%E4%BD%A0%E5%A5%BD</li>
                        </ul>
                        
                        <h5>如何使用本工具</h5>
                        <ol>
                            <li><strong>编码：</strong>在输入框中粘贴或输入需要编码的文本，点击"URL 编码"按钮，即可在输出框中看到编码后的结果。</li>
                            <li><strong>解码：</strong>在输入框中粘贴或输入需要解码的 URL 编码字符串，点击"URL 解码"按钮，即可在输出框中看到解码后的原文。</li>
                            <li><strong>交换内容：</strong>点击"交换内容"按钮可以将输入框和输出框的内容互换，方便连续操作。</li>
                            <li><strong>清空：</strong>点击"清空"按钮可以同时清空输入框和输出框的内容。</li>
                            <li><strong>复制结果：</strong>点击"复制结果"按钮可以将输出框中的内容复制到剪贴板。</li>
                        </ol>
                        
                        <h5>常见应用场景</h5>
                        <ul>
                            <li>在URL中传递参数时对特殊字符进行编码</li>
                            <li>在表单提交时处理包含特殊字符的数据</li>
                            <li>在AJAX请求中处理URL参数</li>
                            <li>处理包含非ASCII字符（如中文）的URL</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-container"></div>

    <script src="https://unpkg.com/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../asset/navbar.js"></script>
    <script src="../../asset/footer.js"></script>
    <script src="../../asset/common.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputText = document.getElementById('inputText');
            const outputText = document.getElementById('outputText');
            
            // 编码功能
            document.getElementById('encodeBtn').addEventListener('click', function() {
                try {
                    const encoded = encodeURIComponent(inputText.value);
                    outputText.value = encoded;
                } catch (e) {
                    showToast('编码出错: ' + e.message, 'error');
                }
            });

            // 解码功能
            document.getElementById('decodeBtn').addEventListener('click', function() {
                try {
                    const decoded = decodeURIComponent(inputText.value);
                    outputText.value = decoded;
                } catch (e) {
                    showToast('解码出错: ' + e.message, 'error');
                }
            });

            // 交换内容
            document.getElementById('swapBtn').addEventListener('click', function() {
                const temp = inputText.value;
                inputText.value = outputText.value;
                outputText.value = temp;
            });

            // 清空功能
            document.getElementById('clearBtn').addEventListener('click', function() {
                inputText.value = '';
                outputText.value = '';
            });

            // 复制结果
            document.getElementById('copyBtn').addEventListener('click', async function() {
                try {
                    await navigator.clipboard.writeText(outputText.value);
                    showToast('已复制到剪贴板', 'success');
                } catch (err) {
                    showToast('复制失败: ' + err.message, 'error');
                }
            });
        });
    </script>
</body>
</html>